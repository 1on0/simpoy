<article class="ctn-body e-content">
    <!-- Refer to https://discourse.gohugo.io/t/responsive-tables-in-markdown/10639/5 -->
    {{- $wrappedTable := printf "<div class=\"table-wrapper\">${1}</div>" -}}
    {{ if .Params.cover }}
    {{- partial "components/cover" . -}}
    {{- end -}}
    {{- partial "components/toc" . -}}
    {{- .Content | replaceRE "(<table>(?:.|\n)+?</table>)" $wrappedTable | safeHTML -}}
    <div class="info">
        {{- if not .Date.IsZero -}}
        <p class="info-date">
            Published date : <time class="dt-published"><a class="u-url" href="{{ .Permalink }}">{{ .Date.Format (or site.Params.dateFormat.published "January 2, 2006") -}}</a></time>
        </p>
        {{- end -}}
        {{- if (and (eq .Lastmod.IsZero false) (ne .Lastmod .Date)) }}
        <p class="info-lastmod">
        Last update : <time class="info-lastmod">
            {{ .Lastmod.Format "January 2, 2006" }}
        </p>
        {{- end }}
        {{ if or (.Params.tags) (.Params.categories) (.Params.series) (.Params.readtime) }}
        <p class="info-read">Reading time :
            {{ $readTime := cond (gt .ReadingTime 1) "-min-" "-min-" -}}
            {{- .ReadingTime -}}{{- $readTime -}}read
        </p>
        {{- end -}}
        {{- with site.Params}}
        <p class="info-author">
            Posted by : <a rel="author" class="p-author h-card" href="{{ "about" | relURL }}">{{ .Author -}}</a>
        </p>
        {{- end -}}
        {{- if .Params.categories -}}
        <p class="info-label">
            Categories :
            {{ range $k, $c := .Params.categories -}}{{- if $k -}}, {{ end -}}
            <a class="info-categories p-category" href="{{- " /categories/" | relURL -}}{{- . | urlize -}}">{{- title $c -}}</a>
            {{- end -}}
            {{- end -}}
        </p>
        {{- if .Params.tags -}}
        <p class="info-label">
            Tags : {{ range $k, $t := .Params.tags -}}{{- if $k -}}, {{ end -}}
            <a class="info-tags" href="{{- " /tags/" | relURL -}}{{- . | urlize -}}">{{- title $t -}}</a>
            {{- end }}
            {{- end -}}
        </p>
        {{- with .Params.syndication -}}
        <p class="info-syndication">
            Syndication : {{- range $f, $s := . }}
            <a href="{{- $s -}}" class="u-syndication" rel="syndication">{{- title $f -}}</a>
            {{- end -}}
            {{- end -}}
        </p>
        <element hidden>{{- partial "components/display-image" . -}}</element>
    </div>
</article>