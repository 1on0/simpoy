{{- define "title" -}}
{{- .Title }} - {{- T .Data.Singular | default .Data.Singular -}} - {{ site.Title -}}
{{- end -}}
{{- define "content" -}}

<div class="category-list">
    {{- $taxonomies := .Data.Plural -}}
    {{- range site.Taxonomies.categories.ByCount -}}
    <a href="{{- .Page.RelPermalink | relURL -}}">{{- .Page.Title -}} <sup> {{- .Count -}} </sup></a>
    {{- end -}}
</div>   
<div class="archive">
    {{- /* Title */ -}}
    <h2 class="single-title">
        {{- $taxonomy := .Data.Singular -}}
        {{- if eq $taxonomy "category" -}}
        {{- .Title -}}
        {{- else if eq $taxonomy "tag" -}}
        {{- .Title -}}
        {{- else -}}
        {{- .Title -}}
        {{- end -}}
    </h2>

    {{ $pages := where site.RegularPages "Type" "in" site.Params.mainSections }}
    {{- range ($pages.GroupByDate "2006") -}}
    <h3 class="year-date">{{- .Key -}}</h3>
    {{- range ($pages.GroupByDate "January") -}}
    <h4 class="month-date">{{- .Key -}}</h4>
    {{- range $pages -}}
    <article class="page-item">
        <p class="page-item-date"><span>{{- site.Params.list.dateFormat | default "02" | .Date.Format -}}</span> </p>
        <a href="{{- .RelPermalink | relURL -}}" class="page-title">
            <h4>{{- .Title -}}</h4>
        </a>
    </article>
    {{- end -}}
    {{- end -}}
    {{- end -}}
</div>
<div class="tag-list">
    {{- range site.Taxonomies.tags.ByCount -}}
    <a href="{{- .Page.RelPermalink -}}">{{- .Page.Title -}} <sup> {{- .Count -}}</sup></a>
    {{- end -}}
</div>
{{- end -}}